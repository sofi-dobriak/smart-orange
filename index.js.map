{"version":3,"file":"index.js","sources":["../src/js/swiper.js","../src/js/builds/markup.js","../src/js/builds/operation.js","../src/js/builds/builds.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport { Navigation } from 'swiper/modules';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const mySwiper = new Swiper('.swiper', {\n    modules: [Navigation],\n    slidesPerView: 1,\n    spaceBetween: 10,\n    navigation: {\n      nextEl: '.swiper-button.next',\n      prevEl: '.swiper-button.prev',\n    },\n  });\n});\n","function renderBuildItem({ img, year, type, name, adress, tags }) {\n  return `\n      <li class=\"builds-cards-item\">\n        <div class=\"year-label-container\">\n          <p class=\"year\">${year}.</p>\n          <p class=\"label\">${type}</p>\n        </div>\n\n        <img src=\"${img}\" alt=\"${name} image\" width=\"416\" height=\"234\" class=\"build-card-image\">\n\n        <h3 class=\"build-card-title\">${name}</h3>\n\n        <p class=\"build-address\">${adress}</p>\n\n        <h4 class=\"work-type-title\">Види робіт</h4>\n\n        <ul class=\"work-type-list\">\n          ${renderTags(tags)}\n        </ul>\n      </li>\n  `;\n}\n\nexport function renderBuildsList(builds) {\n  return builds.map(renderBuildItem).join('');\n}\n\nfunction renderTag(tag) {\n  return ` <li class=\"work-type-item\">\n            <p class=\"work-type\">${tag}</p>\n          </li>`;\n}\n\nfunction renderTags(tags) {\n  return tags.map(renderTag).join('');\n}\n","import axios from 'axios';\n\nexport const getBuildsList = async () => {\n  try {\n    const response = await axios.get(\n      'https://test.smarto.agency/smarto_complexes_list.json'\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { renderBuildsList } from './markup';\nimport { getBuildsList } from './operation';\n\nconst refs = {\n  buildListEl: document.querySelector('.js-builds-cards-list'),\n  loadMoreBtnEl: document.querySelector('.js-load-more-button'),\n};\n\nconst params = {\n  page: 1,\n  perPage: 3,\n  allData: [],\n  displayedCount: 0,\n};\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  try {\n    params.allData = await getBuildsList();\n\n    loadMoreItems();\n\n    refs.loadMoreBtnEl.addEventListener('click', loadMoreItems);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nfunction loadMoreItems() {\n  const startIndex = params.displayedCount;\n  const endIndex = startIndex + params.perPage;\n\n  const nextItems = params.allData.slice(startIndex, endIndex);\n\n  if (nextItems) {\n    const markup = renderBuildsList(nextItems);\n    refs.buildListEl.insertAdjacentHTML('beforeend', markup);\n\n    params.displayedCount = endIndex;\n\n    if (params.displayedCount >= params.allData.length) {\n      refs.loadMoreBtnEl.style.display = 'none';\n    }\n  }\n}\n"],"names":["Swiper","Navigation","renderBuildItem","img","year","type","name","adress","tags","renderTags","renderBuildsList","builds","renderTag","tag","getBuildsList","axios","error","refs","params","loadMoreItems","startIndex","endIndex","nextItems","markup"],"mappings":"owBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CACjC,IAAIA,EAAO,UAAW,CACrC,QAAS,CAACC,CAAU,EACpB,cAAe,EACf,aAAc,GACd,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,CACL,CAAG,CACH,CAAC,ECfD,SAASC,EAAgB,CAAE,IAAAC,EAAK,KAAAC,EAAM,KAAAC,EAAM,KAAAC,EAAM,OAAAC,EAAQ,KAAAC,GAAQ,CAChE,MAAO;AAAA;AAAA;AAAA,4BAGmBJ,CAAI;AAAA,6BACHC,CAAI;AAAA;AAAA;AAAA,oBAGbF,CAAG,UAAUG,CAAI;AAAA;AAAA,uCAEEA,CAAI;AAAA;AAAA,mCAERC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,YAK7BE,EAAWD,CAAI,CAAC;AAAA;AAAA;AAAA,GAI5B,CAEO,SAASE,EAAiBC,EAAQ,CACvC,OAAOA,EAAO,IAAIT,CAAe,EAAE,KAAK,EAAE,CAC5C,CAEA,SAASU,EAAUC,EAAK,CACtB,MAAO;AAAA,mCAC0BA,CAAG;AAAA,gBAEtC,CAEA,SAASJ,EAAWD,EAAM,CACxB,OAAOA,EAAK,IAAII,CAAS,EAAE,KAAK,EAAE,CACpC,CCjCO,MAAME,EAAgB,SAAY,CACvC,GAAI,CAKF,OAJiB,MAAMC,EAAM,IAC3B,uDACN,GAEoB,IACjB,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,ECTMC,EAAO,CACX,YAAa,SAAS,cAAc,uBAAuB,EAC3D,cAAe,SAAS,cAAc,sBAAsB,CAC9D,EAEMC,EAAS,CACb,KAAM,EACN,QAAS,EACT,QAAS,CAAE,EACX,eAAgB,CAClB,EAEA,OAAO,iBAAiB,mBAAoB,SAAY,CACtD,GAAI,CACFA,EAAO,QAAU,MAAMJ,IAEvBK,IAEAF,EAAK,cAAc,iBAAiB,QAASE,CAAa,CAC3D,OAAQH,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAED,SAASG,GAAgB,CACvB,MAAMC,EAAaF,EAAO,eACpBG,EAAWD,EAAaF,EAAO,QAE/BI,EAAYJ,EAAO,QAAQ,MAAME,EAAYC,CAAQ,EAE3D,GAAIC,EAAW,CACb,MAAMC,EAASb,EAAiBY,CAAS,EACzCL,EAAK,YAAY,mBAAmB,YAAaM,CAAM,EAEvDL,EAAO,eAAiBG,EAEpBH,EAAO,gBAAkBA,EAAO,QAAQ,SAC1CD,EAAK,cAAc,MAAM,QAAU,OAEtC,CACH"}